<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Normalisation of 'MSnExp', 'MSnSet' and 'Spectrum' objects</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for normalise-methods {MSnbase}"><tr><td>normalise-methods {MSnbase}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2> Normalisation of <code>MSnExp</code>, <code>MSnSet</code> and
<code>Spectrum</code> objects </h2>

<h3>Description</h3>

<p>The <code>normalise</code> method (also available as <code>normalize</code>)
performs basic normalisation on spectra 
intensities of single spectra (<code>"<a href="Spectrum-class.html">Spectrum</a>"</code> or 
<code>"<a href="Spectrum2-class.html">Spectrum2</a>"</code> objects),
whole experiments (<code>"<a href="MSnExp-class.html">MSnExp</a>"</code> objects) or
quantified expression data (<code>"<a href="MSnSet-class.html">MSnSet</a>"</code> objects).
</p>
<p>Raw spectra and experiments are normalised using <code>max</code> or
<code>sum</code> only. For MSMS spectra could be normalised to their 
<code>precursor</code> additionally. Each peak intensity is divided by the
highest intensity in the spectrum, the sum of intensities or the intensity 
of the precursor.
These methods aim at facilitating relative peaks heights between
different spectra.
</p>
<p>The <code>method</code> parameter for <code>"<a href="MSnSet-class.html">MSnSet</a>"</code> can be
one of <code>sum</code>, <code>max</code>, <code>quantiles</code>, <code>center.mean</code>,
<code>center.median</code>, <code>.median</code>, <code>quantiles.robust</code> or
<code>vsn</code>.  For <code>sum</code> and <code>max</code>, each feature's reporter
intensity is divided by the maximum or the sum respectively. These two
methods are applied along the features (rows).
</p>
<p><code>center.mean</code> and <code>center.median</code> translate the respective
sample (column) intensities according to the column mean or
median. <code>diff.median</code> translates all samples (columns) so that
they all match the grand median. Using <code>quantiles</code> or
<code>quantiles.robust</code> applies (robust) quantile normalisation, as
implemented in <code><a href="../../preprocessCore/html/normalize.quantiles.html">normalize.quantiles</a></code> and
<code><a href="../../preprocessCore/html/normalize.quantiles.robust.html">normalize.quantiles.robust</a></code> of the <code>preprocessCore</code>
package.  <code>vsn</code> uses the <code><a href="../../vsn/html/vsn2.html">vsn2</a></code> function from the
<code>vsn</code> package.  Note that the latter also glog-transforms the
intensities.  See respective manuals for more details and function
arguments.
</p>
<p>A <code>scale</code> method, mimicking the base <code>scale</code> method exists
for <code>"<a href="MSnSet-class.html">MSnSet</a>"</code> instances. See
<code>?base::<a href="../../base/html/scale.html">scale</a></code> for details. 
</p>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>object</code></td>
<td>
<p> An object of class <code>"<a href="Spectrum-class.html">Spectrum</a>"</code>, 
<code>"<a href="Spectrum2-class.html">Spectrum2</a>"</code>, <code>"<a href="MSnExp-class.html">MSnExp</a>"</code> or
<code>"<a href="MSnSet-class.html">MSnSet</a>"</code>.
</p>
</td></tr>
<tr valign="top"><td><code>method</code></td>
<td>

<p>A character vector of length one that describes how to normalise
the object. See description for details.
</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p> Additional arguments passed to the normalisation function.
</p>
</td></tr>
</table>


<h3>Methods</h3>

<p>The <code>normalise</code> methods:
</p>

<dl>
<dt><code>signature(object = "MSnSet", method = "character")</code></dt><dd>
<p>Normalises the <code>object</code> reporter ions intensities using
<code>method</code>. </p>
</dd>
<dt><code>signature(object = "MSnExp", method = "character")</code></dt><dd>
<p>Normalises the <code>object</code> peak intensities using
<code>method</code>. </p>
</dd>
<dt><code>signature(object = "Spectrum", method = "character")</code></dt><dd>
<p>Normalises the <code>object</code> peak intensities using
<code>method</code>. </p>
</dd>
<dt><code>signature(object = "Spectrum2", method = "character",
        precursorIntensity)</code></dt><dd>
<p>Normalises the <code>object</code> peak intensities using
<code>method</code>. If <code>method == "precursor"</code>, 
<code>precursorIntensity</code> allows to specify the intensity of the
precursor manually. </p>
</dd>
</dl>

<p>The <code>scale</code> method:
</p>

<dl>
<dt><code>signature(x = "MSnSet", center = "logical", scale =
	"logical")</code></dt><dd><p> See <code>?base::<a href="../../base/html/scale.html">scale</a></code>. </p>
</dd>
</dl>



<h3>Examples</h3>

<pre>
## quantifying full experiment
data(msnset)
msnset.nrm &lt;- normalise(msnset, "quantiles")
msnset.nrm
</pre>

<hr /><div style="text-align: center;">[Package <em>MSnbase</em> version 2.12.0 <a href="00Index.html">Index</a>]</div>
</body></html>
